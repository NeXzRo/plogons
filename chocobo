ChocoboStance = "Healer"  -- "Attacker", "Defender" 

function GetBuddyTimeRemaining()
    if Instances.Buddy and Instances.Buddy.CompanionInfo and Instances.Buddy.CompanionInfo.TimeLeft then
        return Instances.Buddy.CompanionInfo.TimeLeft
    else
        return 0
    end
end

if GetBuddyTimeRemaining() == 0 or GetBuddyTimeRemaining() < (29 * 60) then
    yield("/item Gysahl Greens")
    yield("/wait 3")
end

if GetBuddyTimeRemaining() > 0 then
    yield('/cac "'..ChocoboStance..' Stance"')
end
